diff --git a/node_modules/oclif/lib/commands/pack/deb.js b/node_modules/oclif/lib/commands/pack/deb.js
index 8903363..db27b9e 100644
--- a/node_modules/oclif/lib/commands/pack/deb.js
+++ b/node_modules/oclif/lib/commands/pack/deb.js
@@ -64,8 +64,8 @@ class PackDeb extends core_1.Command {
             await qq.write([workspace, 'DEBIAN/control'], scripts.control(buildConfig, (0, upload_util_1.debArch)(arch)));
             await qq.chmod([workspace, 'usr/lib', config.dirname, 'bin', config.bin], 0o755);
             await qq.x(`ln -s "../lib/${config.dirname}/bin/${config.bin}" "${workspace}/usr/bin/${config.bin}"`);
-            await qq.x(`chown -R root "${workspace}"`);
-            await qq.x(`chgrp -R root "${workspace}"`);
+            await qq.x(`sudo chown -R root "${workspace}"`);
+            await qq.x(`sudo chgrp -R root "${workspace}"`);
             await qq.x(`dpkg --build "${workspace}" "${qq.join(dist, versionedDebBase)}"`);
         };
         const arches = _.uniq(buildConfig.targets
diff --git a/node_modules/oclif/lib/tarballs/build.js b/node_modules/oclif/lib/tarballs/build.js
index ffbbd21..b9f7db4 100644
--- a/node_modules/oclif/lib/tarballs/build.js
+++ b/node_modules/oclif/lib/tarballs/build.js
@@ -4,6 +4,7 @@ exports.build = void 0;
 const findYarnWorkspaceRoot = require("find-yarn-workspace-root");
 const path = require("path");
 const qq = require("qqjs");
+const fs = require("fs")
 const log_1 = require("../log");
 const bin_1 = require("./bin");
 const node_1 = require("./node");
@@ -48,19 +49,15 @@ async function build(c, options = {}) {
     };
     const addDependencies = async () => {
         qq.cd(c.workspace());
-        const yarnRoot = findYarnWorkspaceRoot(c.root) || c.root;
-        const yarn = await qq.exists([yarnRoot, 'yarn.lock']);
+        const workspaceRoot = findYarnWorkspaceRoot(c.root) || c.root;
+        const yarn = await qq.exists([workspaceRoot, 'yarn.lock']);
         if (yarn) {
-            await qq.cp([yarnRoot, 'yarn.lock'], '.');
+            await qq.cp([workspaceRoot, 'yarn.lock'], '.');
             await qq.x('yarn --no-progress --production --non-interactive');
         }
         else {
-            let lockpath = qq.join(c.root, 'package-lock.json');
-            if (!await qq.exists(lockpath)) {
-                lockpath = qq.join(c.root, 'npm-shrinkwrap.json');
-            }
-            await qq.cp(lockpath, '.');
-            await qq.x('npm install --production');
+            fs.cpSync(qq.join(workspaceRoot, 'node_modules'), qq.join('.', 'node_modules'), {dereference: true, recursive: true});
+            await qq.x('npm prune --production');
         }
     };
     const pretarball = async () => {
