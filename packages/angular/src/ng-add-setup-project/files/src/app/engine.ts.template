import {HeadlessEngine, searchAppReducers} from '@coveo/headless';

export const engine = new HeadlessEngine({
  configuration: {
    platformUrl: '<%= platformUrl %>',
    organizationId: '<%= orgId %>',
    accessToken: '<%= apiKey %>',
    renewAccessToken: () =>
      window
        .fetch('/token')
        .then((data) => data.json())
        .then((data) => data.token),
  },
  reducers: searchAppReducers,
});
